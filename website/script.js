// Language Data for 8 Languages
const translations = {
    en: {
        lang: 'en',
        dir: 'ltr',
        heroTitle: 'Fix Antigravity IDE<br>Instantly',
        heroSubtitle: 'Professional cleaning tool for installation errors, network issues, and region locks',
        downloadNow: 'Download Now',
        viewGitHub: 'View on GitHub',
        downloadTitle: 'Download for Your Platform',
        commandTitle: 'Or Use Command Line',
        tutorialTitle: 'How to Use',
        featuresTitle: 'Why Antigravity Cleaner?',
        supportTitle: 'ğŸŒŸ Support the Project',
        supportText: 'If you find this tool helpful, please give us a star on GitHub!<br>Your support helps us develop <strong>v3.0</strong> with <strong>one-click Antigravity login</strong> feature!',
        starGitHub: 'Star on GitHub',
        footer: 'Â© 2025 Tawroot | All Rights Reserved',
        globalTitle: 'ğŸŒ Works Globally',
        globalText: 'Originally developed for Iran, now helping users in restricted networks worldwide'
    },
    fa: {
        lang: 'fa',
        dir: 'rtl',
        heroTitle: 'Ø±ÙØ¹ Ù…Ø´Ú©Ù„Ø§Øª Antigravity<br>Ø¯Ø± ÛŒÚ© Ù„Ø­Ø¸Ù‡',
        heroSubtitle: 'Ø§Ø¨Ø²Ø§Ø± Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ù†ØµØ¨ØŒ Ù…Ø´Ú©Ù„Ø§Øª Ø´Ø¨Ú©Ù‡ Ùˆ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù…Ù†Ø·Ù‚Ù‡â€ŒØ§ÛŒ',
        downloadNow: 'Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙÙˆØ±ÛŒ',
        viewGitHub: 'Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯Ø± Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨',
        downloadTitle: 'Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¨Ø±Ø§ÛŒ Ù¾Ù„ØªÙØ±Ù… Ø´Ù…Ø§',
        commandTitle: 'ÛŒØ§ Ø§Ø² Ø®Ø· ÙØ±Ù…Ø§Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯',
        tutorialTitle: 'Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡',
        featuresTitle: 'Ú†Ø±Ø§ Antigravity CleanerØŸ',
        supportTitle: 'ğŸŒŸ Ø­Ù…Ø§ÛŒØª Ø§Ø² Ù¾Ø±ÙˆÚ˜Ù‡',
        supportText: 'Ø§Ú¯Ø± Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ø±Ø§ Ù…ÙÛŒØ¯ Ù…ÛŒâ€ŒØ¯Ø§Ù†ÛŒØ¯ØŒ Ù„Ø·ÙØ§Ù‹ Ø¯Ø± Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨ Ø³ØªØ§Ø±Ù‡ Ø¨Ø¯Ù‡ÛŒØ¯!<br>Ø­Ù…Ø§ÛŒØª Ø´Ù…Ø§ Ø¨Ù‡ ØªÙˆØ³Ø¹Ù‡ <strong>Ù†Ø³Ø®Ù‡ 3.0</strong> Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯!',
        starGitHub: 'Ø³ØªØ§Ø±Ù‡ Ø¯Ø± Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨',
        footer: 'Â© Û±Û´Û°Û³ ØªØ§ÙˆØ±ÙˆØª | ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª',
        globalTitle: 'ğŸŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ Ø¬Ù‡Ø§Ù†ÛŒ',
        globalText: 'Ø§Ø¨ØªØ¯Ø§ Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ±Ø§Ù† ØªÙˆØ³Ø¹Ù‡ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯ØŒ Ø§Ú©Ù†ÙˆÙ† Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø­Ø¯ÙˆØ¯ Ø¯Ø± Ø³Ø±Ø§Ø³Ø± Ø¬Ù‡Ø§Ù† Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯'
    },
    zh: {
        lang: 'zh',
        dir: 'ltr',
        heroTitle: 'ç«‹å³ä¿®å¤<br>Antigravity IDE',
        heroSubtitle: 'ä¸“ä¸šæ¸…ç†å·¥å…·ï¼Œç”¨äºä¿®å¤å®‰è£…é”™è¯¯ã€ç½‘ç»œé—®é¢˜å’ŒåŒºåŸŸé”å®š',
        downloadNow: 'ç«‹å³ä¸‹è½½',
        viewGitHub: 'åœ¨GitHubæŸ¥çœ‹',
        downloadTitle: 'ä¸ºæ‚¨çš„å¹³å°ä¸‹è½½',
        commandTitle: 'æˆ–ä½¿ç”¨å‘½ä»¤è¡Œ',
        tutorialTitle: 'ä½¿ç”¨æ–¹æ³•',
        featuresTitle: 'ä¸ºä»€ä¹ˆé€‰æ‹©Antigravity Cleanerï¼Ÿ',
        supportTitle: 'ğŸŒŸ æ”¯æŒé¡¹ç›®',
        supportText: 'å¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªå·¥å…·æœ‰ç”¨ï¼Œè¯·åœ¨GitHubä¸Šç»™æˆ‘ä»¬ä¸€é¢—æ˜Ÿï¼<br>æ‚¨çš„æ”¯æŒå¸®åŠ©æˆ‘ä»¬å¼€å‘<strong>v3.0</strong>ï¼',
        starGitHub: 'åœ¨GitHubåŠ æ˜Ÿ',
        footer: 'Â© 2025 Tawroot | ç‰ˆæƒæ‰€æœ‰',
        globalTitle: 'ğŸŒ å…¨çƒé€‚ç”¨',
        globalText: 'æœ€åˆä¸ºä¼Šæœ—å¼€å‘ï¼Œç°åœ¨å¸®åŠ©å…¨çƒå—é™ç½‘ç»œä¸­çš„ç”¨æˆ·'
    },
    ru: {
        lang: 'ru',
        dir: 'ltr',
        heroTitle: 'Ğ˜ÑĞ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ Antigravity IDE<br>ĞœĞ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾',
        heroSubtitle: 'ĞŸÑ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸, ÑĞµÑ‚ĞµĞ²Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼ Ğ¸ Ñ€ĞµĞ³Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ¾Ğº',
        downloadNow: 'Ğ¡ĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ ÑĞµĞ¹Ñ‡Ğ°Ñ',
        viewGitHub: 'Ğ¡Ğ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ½Ğ° GitHub',
        downloadTitle: 'Ğ¡ĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ Ğ´Ğ»Ñ Ğ²Ğ°ÑˆĞµĞ¹ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹',
        commandTitle: 'Ğ˜Ğ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½ÑƒÑ ÑÑ‚Ñ€Ğ¾ĞºÑƒ',
        tutorialTitle: 'ĞšĞ°Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ',
        featuresTitle: 'ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Antigravity Cleaner?',
        supportTitle: 'ğŸŒŸ ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚',
        supportText: 'Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚Ğµ ÑÑ‚Ğ¾Ñ‚ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğ¼, Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ğ½Ğ°Ğ¼ Ğ·Ğ²ĞµĞ·Ğ´Ñƒ Ğ½Ğ° GitHub!<br>Ğ’Ğ°ÑˆĞ° Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ğ½Ğ°Ğ¼ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ñ‚ÑŒ <strong>v3.0</strong>!',
        starGitHub: 'Ğ—Ğ²ĞµĞ·Ğ´Ğ° Ğ½Ğ° GitHub',
        footer: 'Â© 2025 Tawroot | Ğ’ÑĞµ Ğ¿Ñ€Ğ°Ğ²Ğ° Ğ·Ğ°Ñ‰Ğ¸Ñ‰ĞµĞ½Ñ‹',
        globalTitle: 'ğŸŒ Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾',
        globalText: 'Ğ˜Ğ·Ğ½Ğ°Ñ‡Ğ°Ğ»ÑŒĞ½Ğ¾ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½ Ğ´Ğ»Ñ Ğ˜Ñ€Ğ°Ğ½Ğ°, Ñ‚ĞµĞ¿ĞµÑ€ÑŒ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼ Ğ² Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ñ‹Ñ… ÑĞµÑ‚ÑÑ… Ğ¿Ğ¾ Ğ²ÑĞµĞ¼Ñƒ Ğ¼Ğ¸Ñ€Ñƒ'
    },
    tr: {
        lang: 'tr',
        dir: 'ltr',
        heroTitle: 'Antigravity IDE\'yi<br>AnÄ±nda DÃ¼zeltin',
        heroSubtitle: 'Kurulum hatalarÄ±, aÄŸ sorunlarÄ± ve bÃ¶lge kilitleri iÃ§in profesyonel temizleme aracÄ±',
        downloadNow: 'Åimdi Ä°ndir',
        viewGitHub: 'GitHub\'da GÃ¶rÃ¼ntÃ¼le',
        downloadTitle: 'Platformunuz iÃ§in Ä°ndirin',
        commandTitle: 'Veya Komut SatÄ±rÄ±nÄ± KullanÄ±n',
        tutorialTitle: 'NasÄ±l KullanÄ±lÄ±r',
        featuresTitle: 'Neden Antigravity Cleaner?',
        supportTitle: 'ğŸŒŸ Projeyi Destekleyin',
        supportText: 'Bu aracÄ± yararlÄ± buluyorsanÄ±z, lÃ¼tfen GitHub\'da bize yÄ±ldÄ±z verin!<br>DesteÄŸiniz <strong>v3.0</strong> geliÅŸtirmemize yardÄ±mcÄ± oluyor!',
        starGitHub: 'GitHub\'da YÄ±ldÄ±z Ver',
        footer: 'Â© 2025 Tawroot | TÃ¼m haklarÄ± saklÄ±dÄ±r',
        globalTitle: 'ğŸŒ KÃ¼resel Ã‡alÄ±ÅŸÄ±r',
        globalText: 'BaÅŸlangÄ±Ã§ta Ä°ran iÃ§in geliÅŸtirildi, ÅŸimdi dÃ¼nya Ã§apÄ±ndaki kÄ±sÄ±tlÄ± aÄŸlardaki kullanÄ±cÄ±lara yardÄ±mcÄ± oluyor'
    },
    es: {
        lang: 'es',
        dir: 'ltr',
        heroTitle: 'Repara Antigravity IDE<br>InstantÃ¡neamente',
        heroSubtitle: 'Herramienta profesional de limpieza para errores de instalaciÃ³n, problemas de red y bloqueos regionales',
        downloadNow: 'Descargar Ahora',
        viewGitHub: 'Ver en GitHub',
        downloadTitle: 'Descargar para tu Plataforma',
        commandTitle: 'O Usa la LÃ­nea de Comandos',
        tutorialTitle: 'CÃ³mo Usar',
        featuresTitle: 'Â¿Por quÃ© Antigravity Cleaner?',
        supportTitle: 'ğŸŒŸ Apoya el Proyecto',
        supportText: 'Â¡Si encuentras Ãºtil esta herramienta, danos una estrella en GitHub!<br>Â¡Tu apoyo nos ayuda a desarrollar <strong>v3.0</strong>!',
        starGitHub: 'Estrella en GitHub',
        footer: 'Â© 2025 Tawroot | Todos los derechos reservados',
        globalTitle: 'ğŸŒ Funciona Globalmente',
        globalText: 'Desarrollado originalmente para IrÃ¡n, ahora ayuda a usuarios en redes restringidas en todo el mundo'
    },
    ar: {
        lang: 'ar',
        dir: 'rtl',
        heroTitle: 'Ø£ØµÙ„Ø­ Antigravity IDE<br>ÙÙˆØ±Ø§Ù‹',
        heroSubtitle: 'Ø£Ø¯Ø§Ø© ØªÙ†Ø¸ÙŠÙ Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªØ«Ø¨ÙŠØª ÙˆÙ…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆÙ‚ÙÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©',
        downloadNow: 'ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¢Ù†',
        viewGitHub: 'Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ GitHub',
        downloadTitle: 'ØªØ­Ù…ÙŠÙ„ Ù„Ù…Ù†ØµØªÙƒ',
        commandTitle: 'Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø³Ø·Ø± Ø§Ù„Ø£ÙˆØ§Ù…Ø±',
        tutorialTitle: 'ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…',
        featuresTitle: 'Ù„Ù…Ø§Ø°Ø§ Antigravity CleanerØŸ',
        supportTitle: 'ğŸŒŸ Ø§Ø¯Ø¹Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹',
        supportText: 'Ø¥Ø°Ø§ ÙˆØ¬Ø¯Øª Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© Ù…ÙÙŠØ¯Ø©ØŒ ÙŠØ±Ø¬Ù‰ Ø¥Ø¹Ø·Ø§Ø¦Ù†Ø§ Ù†Ø¬Ù…Ø© Ø¹Ù„Ù‰ GitHub!<br>Ø¯Ø¹Ù…Ùƒ ÙŠØ³Ø§Ø¹Ø¯Ù†Ø§ ÙÙŠ ØªØ·ÙˆÙŠØ± <strong>v3.0</strong>!',
        starGitHub: 'Ù†Ø¬Ù…Ø© Ø¹Ù„Ù‰ GitHub',
        footer: 'Â© 2025 Tawroot | Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©',
        globalTitle: 'ğŸŒ ÙŠØ¹Ù…Ù„ Ø¹Ø§Ù„Ù…ÙŠØ§Ù‹',
        globalText: 'ØªÙ… ØªØ·ÙˆÙŠØ±Ù‡ ÙÙŠ Ø§Ù„Ø£ØµÙ„ Ù„Ø¥ÙŠØ±Ø§Ù†ØŒ ÙˆØ§Ù„Ø¢Ù† ÙŠØ³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ù…Ù‚ÙŠØ¯Ø© Ø­ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…'
    },
    ur: {
        lang: 'ur',
        dir: 'rtl',
        heroTitle: 'Antigravity IDE Ú©Ùˆ<br>ÙÙˆØ±ÛŒ Ø·ÙˆØ± Ù¾Ø± Ù¹Ú¾ÛŒÚ© Ú©Ø±ÛŒÚº',
        heroSubtitle: 'ØªÙ†ØµÛŒØ¨ Ú©ÛŒ Ø®Ø±Ø§Ø¨ÛŒÙˆÚºØŒ Ù†ÛŒÙ¹ ÙˆØ±Ú© Ú©Û’ Ù…Ø³Ø§Ø¦Ù„ Ø§ÙˆØ± Ø±ÛŒØ¬Ù† Ù„Ø§Ú© Ú©Û’ Ù„ÛŒÛ’ Ù¾ÛŒØ´Û ÙˆØ±Ø§Ù†Û ØµÙØ§Ø¦ÛŒ Ú©Ø§ Ù¹ÙˆÙ„',
        downloadNow: 'Ø§Ø¨Ú¾ÛŒ ÚˆØ§Ø¤Ù† Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº',
        viewGitHub: 'GitHub Ù¾Ø± Ø¯ÛŒÚ©Ú¾ÛŒÚº',
        downloadTitle: 'Ø§Ù¾Ù†Û’ Ù¾Ù„ÛŒÙ¹ ÙØ§Ø±Ù… Ú©Û’ Ù„ÛŒÛ’ ÚˆØ§Ø¤Ù† Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº',
        commandTitle: 'ÛŒØ§ Ú©Ù…Ø§Ù†Úˆ Ù„Ø§Ø¦Ù† Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº',
        tutorialTitle: 'Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø§ Ø·Ø±ÛŒÙ‚Û',
        featuresTitle: 'Antigravity Cleaner Ú©ÛŒÙˆÚºØŸ',
        supportTitle: 'ğŸŒŸ Ù¾Ø±ÙˆØ¬ÛŒÚ©Ù¹ Ú©ÛŒ Ø­Ù…Ø§ÛŒØª Ú©Ø±ÛŒÚº',
        supportText: 'Ø§Ú¯Ø± Ø¢Ù¾ Ú©Ùˆ ÛŒÛ Ù¹ÙˆÙ„ Ù…ÙÛŒØ¯ Ù„Ú¯Ø§ ØªÙˆ Ø¨Ø±Ø§Û Ú©Ø±Ù… GitHub Ù¾Ø± ÛÙ…ÛŒÚº Ø§Ø³Ù¹Ø§Ø± Ø¯ÛŒÚº!<br>Ø¢Ù¾ Ú©ÛŒ Ø­Ù…Ø§ÛŒØª <strong>v3.0</strong> ØªÛŒØ§Ø± Ú©Ø±Ù†Û’ Ù…ÛŒÚº Ù…Ø¯Ø¯ Ú©Ø±ØªÛŒ ÛÛ’!',
        starGitHub: 'GitHub Ù¾Ø± Ø§Ø³Ù¹Ø§Ø±',
        footer: 'Â© 2025 Tawroot | Ø¬Ù…Ù„Û Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ ÛÛŒÚº',
        globalTitle: 'ğŸŒ Ø¹Ø§Ù„Ù…ÛŒ Ø³Ø·Ø­ Ù¾Ø± Ú©Ø§Ù… Ú©Ø±ØªØ§ ÛÛ’',
        globalText: 'Ø§ØµÙ„ Ù…ÛŒÚº Ø§ÛŒØ±Ø§Ù† Ú©Û’ Ù„ÛŒÛ’ ØªÛŒØ§Ø± Ú©ÛŒØ§ Ú¯ÛŒØ§ØŒ Ø§Ø¨ Ø¯Ù†ÛŒØ§ Ø¨Ú¾Ø± Ù…ÛŒÚº Ù…Ø­Ø¯ÙˆØ¯ Ù†ÛŒÙ¹ ÙˆØ±Ú©Ø³ Ù…ÛŒÚº ØµØ§Ø±ÙÛŒÙ† Ú©ÛŒ Ù…Ø¯Ø¯ Ú©Ø± Ø±ÛØ§ ÛÛ’'
    }
};

// Current language
let currentLang = 'en';

// Detect language from URL or browser
function detectLanguage() {
    const path = window.location.pathname;
    const langMatch = path.match(/\/(fa|zh|ru|tr|es|ar|ur)\//);
    if (langMatch) {
        return langMatch[1];
    }

    // Check browser language
    const browserLang = navigator.language.split('-')[0];
    if (translations[browserLang]) {
        return browserLang;
    }

    return 'en';
}

// Switch language
function switchLang(lang) {
    if (!translations[lang]) lang = 'en';
    currentLang = lang;

    const t = translations[lang];

    // Update document direction
    document.documentElement.dir = t.dir;
    document.documentElement.lang = t.lang;

    // Update all translatable elements
    updateTranslations(t);

    // Update active button
    document.querySelectorAll('.lang-switcher button').forEach(btn => {
        btn.classList.remove('active');
        if (btn.id === `lang-${lang}`) {
            btn.classList.add('active');
        }
    });

    // Save preference
    localStorage.setItem('preferred-lang', lang);
}

// Update all translatable elements
function updateTranslations(t) {
    // Hero section
    const heroTitle = document.querySelector('.hero h1');
    if (heroTitle) heroTitle.innerHTML = t.heroTitle;

    const heroSubtitle = document.querySelector('.hero p');
    if (heroSubtitle) heroSubtitle.innerHTML = t.heroSubtitle;

    // Buttons
    const downloadBtn = document.querySelector('.btn-primary span');
    if (downloadBtn) downloadBtn.textContent = t.downloadNow;

    const githubBtn = document.querySelector('.btn-secondary span');
    if (githubBtn) githubBtn.textContent = t.viewGitHub;

    // Section titles
    const downloadTitle = document.querySelector('.download-section .section-title');
    if (downloadTitle) downloadTitle.textContent = t.downloadTitle;

    const commandTitle = document.querySelector('.command-section .section-title');
    if (commandTitle) commandTitle.textContent = t.commandTitle;

    const tutorialTitle = document.querySelector('.tutorial-section .section-title');
    if (tutorialTitle) tutorialTitle.textContent = t.tutorialTitle;

    const featuresTitle = document.querySelector('.features .section-title');
    if (featuresTitle) featuresTitle.textContent = t.featuresTitle;

    // Support banner
    const supportTitle = document.querySelector('.support-banner h2');
    if (supportTitle) supportTitle.textContent = t.supportTitle;

    const supportText = document.querySelector('.support-banner p');
    if (supportText) supportText.innerHTML = t.supportText;

    const starBtn = document.querySelector('.star-btn span');
    if (starBtn) starBtn.textContent = t.starGitHub;

    // Footer
    const footerText = document.querySelector('footer p');
    if (footerText) footerText.textContent = t.footer;
}

// Copy code to clipboard
function copyCode(elementId) {
    const codeElement = document.getElementById(elementId);
    const textToCopy = codeElement.textContent;

    navigator.clipboard.writeText(textToCopy).then(() => {
        const btn = codeElement.parentElement.querySelector('.copy-btn');
        const originalText = btn.textContent;
        btn.textContent = 'âœ“ Copied!';
        btn.style.background = 'var(--accent-green)';

        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '';
        }, 2000);
    }).catch(err => {
        console.error('Failed to copy: ', err);
    });
}

// Smooth scroll for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    // Check saved preference or detect language
    const savedLang = localStorage.getItem('preferred-lang');
    const detectedLang = savedLang || detectLanguage();
    switchLang(detectedLang);

    // Add scroll effect to header
    const header = document.querySelector('header');
    window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
            header.style.background = 'rgba(0, 0, 0, 0.9)';
        } else {
            header.style.background = 'rgba(0, 0, 0, 0.7)';
        }
    });

    // Animate elements on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    document.querySelectorAll('.download-card, .feature-card, .tutorial-step').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
    });
});
